<form (ngSubmit)="save()">
  <div class="form-group">
    <label>Field name</label>
    <input type="text" class="form-control" ngModel name="name">
  </div>
  <div class="form-check">
    <input type="checkbox" class="form-check-input" ngModel name="active">
    <label class="form-check-label" for="exampleCheck1">Check me out</label>
  </div>
  <div class="form-check">
    <label class="form-check-label">
      <input class="form-check-input" type="radio" [value]="false" ngModel name="enabled"> Disabled
    </label>
  </div>
  <div class="form-check">
    <label class="form-check-label">
      <input class="form-check-input" type="radio" [value]="true" ngModel name="enabled"> Enabled
    </label>
  </div>
  <div class="form-group">
    <label>Fields Hint</label>
    <textarea class="form-control" ngModel name="hints"></textarea>
  </div>
  <div class="form-group">
    <label>Field Type</label>
    <select class="form-control" ngModel name="type">
      <option *ngFor="let option of fieldTypes" [ngValue]="option.type">{{option.label}}</option>
    </select>
  </div>
  <div class="form-check">
    <input type="checkbox" class="form-check-input" id="exampleCheck1" ngModel name="has_extra">
    <label class="form-check-label" for="exampleCheck1">Extra options</label>
  </div>


  <ng-container ngModelGroup="extra" *ngIf="form.value.has_extra">

    <div class="form-group" *ngFor="let option of extraFields" [ngModelGroup]="option.key">
      <label>{{option.key}}</label>
      <input class="form-control" type="text" ngModel [name]="option.key">
    </div>

    <input #key class="form-control">

    <button (click)="addExtra(key.value)">Add option</button>

  </ng-container>


  <div class="form-group">
    <button class="btn btn-success">Save</button>
    <button class="btn btn-danger" type="button" (click)="cancel()">Cancel</button>
  </div>
  <div>
    <pre>Model Inner: {{form.value | json}}</pre>
  </div>
</form>